<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Akhil Akash Bindla - Secure Access</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Orbitron:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/typeit@8.7.1/dist/index.umd.js"></script>
</head>
<body>
    <div id="intro-container">
        <!-- Terminal Stage -->
        <div id="terminal-stage" class="stage">
            <div class="terminal">
                <div id="terminal-output"></div>
                <div class="input-line">
                    <span>> </span>
                    <span id="terminal-input"></span>
                    <span class="cursor"></span>
                </div>
            </div>
        </div>

        <!-- Firewall & Decryption stages remain the same -->
        <!-- ... paste the firewall-stage and decryption-stage from previous version here ... -->
    </div>

    <script>
        // ── Keystroke & Voice (unchanged) ───────────────────────────────────────────────
        const ctx = new (window.AudioContext || window.webkitAudioContext)();
        function playKeystroke() {
            const oscillator = ctx.createOscillator();
            oscillator.type = 'sine';
            oscillator.frequency.setValueAtTime(800, ctx.currentTime);
            const gain = ctx.createGain();
            gain.gain.setValueAtTime(0.1, ctx.currentTime);
            oscillator.connect(gain);
            gain.connect(ctx.destination);
            oscillator.start();
            oscillator.stop(ctx.currentTime + 0.05);
        }

        function playVoice() {
            const utterance = new SpeechSynthesisUtterance("Decryption complete. Welcome to Akhil Akash Bindla's portfolio.");
            utterance.rate = 1;
            utterance.pitch = 1;
            window.speechSynthesis.speak(utterance);
        }

        // ── Enhanced Device/Browser Detection ───────────────────────────────────────────
        function getDeviceInfo() {
            const ua = navigator.userAgent || navigator.vendor || window.opera;
            let os = 'Unknown OS';
            let deviceType = 'Desktop';
            let browser = 'Unknown Browser';

            // OS detection
            if (/windows/i.test(ua)) os = 'Windows';
            else if (/linux/i.test(ua)) os = 'Linux';
            else if (/macintosh|mac os/i.test(ua)) os = 'macOS';
            else if (/android/i.test(ua)) { os = 'Android'; deviceType = 'Mobile'; }
            else if (/iphone|ipad|ipod/i.test(ua)) { os = 'iOS'; deviceType = 'Mobile'; }

            // Browser detection with version
            if (/chrome/i.test(ua) && !/edg/i.test(ua)) {
                browser = 'Chrome';
            } else if (/firefox/i.test(ua)) {
                browser = 'Firefox';
            } else if (/safari/i.test(ua) && !/chrome/i.test(ua)) {
                browser = 'Safari';
            } else if (/edg/i.test(ua)) {
                browser = 'Edge';
            }

            const versionMatch = ua.match(/(Chrome|Firefox|Safari|Edg)\/([\d.]+)/i);
            if (versionMatch) browser += ` ${versionMatch[2]}`;

            return {
                os,
                browser,
                deviceType,
                screen: `${window.screen.width}×${window.screen.height}`,
                viewport: `${window.innerWidth}×${window.innerHeight}`,
                pixelRatio: window.devicePixelRatio.toFixed(1),
                language: navigator.language || navigator.userLanguage || 'Unknown',
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone || 'Unknown',
                connection: navigator.connection ? 
                    `${navigator.connection.effectiveType || 'unknown'} (${navigator.connection.downlink || '?'} Mbps)` : 
                    'Unknown'
            };
        }

        // ── Fetch IP + Location ─────────────────────────────────────────────────────────
        async function getIpAndLocation() {
            try {
                const res = await fetch('https://ipapi.co/json/');
                if (!res.ok) throw new Error('API error');
                const data = await res.json();
                return {
                    ip: data.ip || 'Hidden / Private',
                    location: data.city && data.region && data.country_name ?
                        `${data.city}, ${data.region}, ${data.country_name}` :
                        'Location masked / VPN detected'
                };
            } catch (e) {
                return {
                    ip: 'Hidden / Private',
                    location: 'Location masked / VPN detected'
                };
            }
        }

        // ── Main Terminal Initialization with Logging ────────────────────────────────
        async function initTerminal() {
            const device = getDeviceInfo();
            const net = await getIpAndLocation();

            const terminalOutput = document.getElementById('terminal-output');

            // ── Security-style logging sequence ──
            await new Promise(resolve => {
                new TypeIt(terminalOutput, {
                    speed: 35,
                    afterStep: playKeystroke,
                    afterComplete: resolve
                })
                .type('>> [SECURITY SCAN] Initializing connection audit...<br>')
                .pause(600)
                .type(`>> IP Address: ${net.ip}<br>`)
                .pause(400)
                .type(`>> Approximate Location: ${net.location}<br>`)
                .pause(400)
                .type(`>> Device: ${device.deviceType} / ${device.os}<br>`)
                .pause(400)
                .type(`>> Browser: ${device.browser}<br>`)
                .pause(600)
                .type(`>> Screen Resolution: ${device.screen} (Pixel Ratio: ${device.pixelRatio})<br>`)
                .pause(400)
                .type(`>> Viewport Size: ${device.viewport}<br>`)
                .pause(400)
                .type(`>> Language: ${device.language} | Timezone: ${device.timezone}<br>`)
                .pause(600)
                .type(`>> Connection Type: ${device.connection}<br>`)
                .pause(800)
                .type('>> Audit complete. No immediate threats detected.<br><br>')
                .go();
            });

            // Now continue with the original access code prompt
            new TypeIt('#terminal-input', {
                strings: 'akhil_2025_init()',
                speed: 100,
                afterStep: playKeystroke,
                afterComplete: () => {
                    terminalOutput.innerHTML += `
                        <p>Authenticating user: Akhil Akash Bindla</p>
                        <p>Clearance Level: Top Secret [██████████]</p>
                        <p>Login: admin</p>
                        <p>Password: ********</p>
                        <p>✅ Access granted. Proceeding to firewall challenge...</p>
                    `;
                    document.getElementById('terminal-stage').classList.add('scroll-out');
                    setTimeout(() => {
                        document.getElementById('terminal-stage').style.display = 'none';
                        document.getElementById('firewall-stage').style.display = 'block';
                    }, 1200);
                }
            }).go();
        }

        // Start everything
        initTerminal();

        // ── Firewall & Decryption logic remains the same as before ──────────────────────
        // Paste your existing firewallStage and decryptionStage code here...
        // (firewall buttons, logs, matrix rain, etc.)

    </script>
</body>
</html>s
